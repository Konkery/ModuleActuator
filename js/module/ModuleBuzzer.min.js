class ClassBuzzer extends ClassMiddleActuator{constructor(_actuatorProps,_opts){this.name="ClassBuzzer",ClassMiddleActuator.apply(this,[_actuatorProps,_opts]),this._Channels[0]._DataRefine.SetLim(200,5e3),(()=>{const makeSound=this.MakeSound.bind(this);this.MakeSound=(_chNum,_freq,_opts)=>{const opts={pulseDur:_opts.pulseDur||100,numRep:_opts.numRep||1,prop:_opts.prop||.5};return["numRep","pulseDur","prop"].forEach(property=>{if("number"!=typeof opts[property]||opts[property]<0)throw new Error("Invalid args")}),opts.prop=E.clip(opts.prop,0,1),makeSound(0,_freq,opts)}})(),this.InitBaseTasks()}static get ERROR_CODE_ARG_VALUE(){return 10}static get ERROR_MSG_ARG_VALUE(){return`ERROR>> invalid data. ClassID: ${this.name}`}InitBaseTasks(){const beepOneLong=(freq=>{let args=[0,freq,{numRep:1,pulseDur:2e3,prop:.5}];return this.MakeSound.apply(this,args)}).bind(this),beepTwoTimes=(freq=>{let args=[0,freq,{numRep:2,pulseDur:200,prop:.5}];return this.MakeSound.apply(this,args)}).bind(this);this._Channels[0].AddTask("BeepOneLong",beepOneLong),this._Channels[0].AddTask("BeepTwice",beepTwoTimes)}On(_chNum,_arg){this._IsChOn[_chNum]&&this.Off(),this._Freq=_arg,analogWrite(this._Pins[0],.5,{freq:this._Freq})}Off(){digitalWrite(this._Pins[0],1),this._IsChOn[0]=!1}CheckStartOpts(_opts){const opts={pulseDur:_opts.pulseDur||100,numRep:_opts.numRep||1,prop:_opts.prop||.5};if(opts.pulseDur=E.clip(opts.pulseDur,0,2147483647),"number"!=typeof opts.prop||opts.prop!==E.clip(opts.prop,0,1))throw new Error("Invalid args");if("number"!=typeof opts.numRep||opts.numRep<0||"number"!=typeof opts.pulseDur||opts.pulseDur<0)throw new Error("Invalid args");return opts}MakeSound(_chNum,_arg,_opts){if(console.log("args"),console.log(arguments),this._IsChOn[_chNum])return;let Thi=_opts.pulseDur,Tlo=Math.floor(_opts.pulseDur*(1-_opts.prop)/_opts.prop),count=2*_opts.numRep,beep_flag=!0;this._IsChOn[0]=!0,this.On(0,_arg);let beep_func=()=>{--count,console.log(count),count>0?(beep_flag?(this.Off(),setTimeout(beep_func,Tlo)):(this.On(0,_arg),setTimeout(beep_func,Thi)),beep_flag=!beep_flag):this._IsChOn[_chNum]=!1};setTimeout(beep_func,Thi)}}exports=ClassBuzzer;